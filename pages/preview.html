<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="../styles/style.css">
    <link rel="stylesheet" href="../styles/preview.css">
    <title>Deez'Web</title>
</head>
<body>
    <header>
        <nav class="navBar glassmorphism">
            <ul class="nav nav-pills nav-fill">
                <li class="nav-item">
                  <a class="nav-link active" aria-current="page" href="../index.html"><i class="fa-solid fa-house"></i></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="./search.html"><i class="fa-solid fa-magnifying-glass"></i></a>
                  </li>
                <li class="nav-item">
                  <a class="nav-link" href="./favorite.html"><i class="fa-solid fa-heart"></i></a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button" aria-expanded="false"><i class="fa-solid fa-user"></i></a>
                    <ul class="dropdown-menu glassmorphism">
                      <li><a class="dropdown-item glassmorphism" href="#">Logout</a></li>
                    </ul>
                  </li>
              </ul>
        </nav>
    </header>

    <main>
        <div class="flex infos mb-0" id="infos">
            <!-- render artist and album link -->
        </div>
       <div class="flex container  pt-0" id="track">
            <!-- render track here -->
       </div>
    </main>
    
    <script id="template-infos" type="x-tmpl-mustache">
        <div class="card glassmorphism flex info_item">
            <a href="{{artistLink}}" class="flex info_item_link">
                <div class="flex imgContainer">
                    <img src="{{artistImg}}" class="card-img-top" alt="{{albumTitle}}">
                </div>
                <div class="card-body p-1 ps-2">
                    <div class="flex title">
                        <h6 class="card-title">{{artistName}}</h6>
                    </div>
                    <p class="card-text">Voir l'artiste</p>
                </div>
            </a>
        </div>
        <div class="card glassmorphism flex info_item">
            <a href="{{albumLink}}" class="flex info_item_link">
                <div class="flex imgContainer">
                    <img src="{{cover}}" class="card-img-top" alt="{{albumTitle}}">
                </div>
                <div class="card-body p-1 ps-2">
                    <div class="flex title">
                        <h6 class="card-title">{{albumTitle}}</h6>
                    </div>
                    <p class="card-text">Voir l'album</p>
                </div>
            </a>
            
        </div>
    </script>

    <script id="template-track" type="x-tmpl-mustache">
        <div class="card glassmorphism track" data-track-id="{{id}}" style="width: 18rem;">
            <img src="{{cover}}" class="card-img-top" alt="{{albumTitle}}">
            
            <div class="card-body">
                <div class="flex title">
                    <h3 class="card-title">{{title}}</h3>
                    <i class="fa-solid fa-heart" id="fa-heart"></i>
                </div>
                <h5 class="card-text text-muted">{{albumTitle}}</h5>
                <h4 class="card-text">{{artistName}}</h4>
                <div class="flex title mt-4">
                    <h6 class="card-subtitle mb-2 text-muted">{{duration}}</h6>
                    <h6 class="card-subtitle mb-2 text-muted">{{releaseDate}}</h6>
                </div>
                
                <div class="flex player">
                    <audio class="music"
                        controls
                        src="{{preview}}">
                            Your browser does not support the
                            <code>audio</code> element.
                    </audio>
                    <a href="{{preview}}" class="btn btn-outline-primary flex play_btn"><i class="fa-solid fa-play"></i></a>
                    
                    <div class="flex indicator">
                        <span class="timer">0:00</span>
                        <div class="slider">
                            <div class="progress"></div>
                        </div>
                        <span class="duration"></span>
                    </div>
                </div>
            </div>
        </div>
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://unpkg.com/mustache@latest"></script>
    <script src="https://e-cdn-files.dzcdn.net/js/min/dz.js"></script>
    <script src="https://e-cdns-files.dzcdn.net/js/min/dz.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
    <script src="../node_modules//fetch-jsonp/build/fetch-jsonp.js"></script>
    <script type="module" src="../scripts/preview.js"></script>
</body>
</html>